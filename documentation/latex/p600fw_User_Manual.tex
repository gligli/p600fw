%\documentclass[draft,landscape, 11pt, oneside]{report}
\documentclass[landscape, 11pt, oneside]{report}
\usepackage[a4paper, left=2cm, right=2cm, top=2.5cm]{geometry}
\usepackage{lmodern}
\usepackage{hyperref}
\usepackage{titlesec}
\usepackage{scrextend}
\usepackage{array}
\usepackage{ProphetPanel}
\usepackage{fontspec}
\usepackage[T1]{fontenc}
\usepackage{longtable}
%\usepackage[inline]{showlabels}
\setmainfont[
 BoldFont={FiraSans-Bold}, 
 ItalicFont={FiraSans-Italic},
 ]{FiraSans}
\setlength{\parindent}{0pt}
\setlength{\parskip}{1em}
\setlength{\leftmargin}{-4cm}
\setlength{\paperheight}{210mm}
\setlength{\paperwidth}{297mm}
\setlength{\textwidth}{26cm}
\setlength{\footskip}{2.5cm}
%\input{defined_terms.tex}
\newenvironment{flowtext}{\addmargin[0cm]{7cm}}{\endaddmargin} % standard text width (reduced for layout)
\newcommand{\pp}[1]{} % patch parameter
\newcommand{\app}[2]{} % additional patch parameter, 1: number, 2: name


\title{[DRAFT] User Manual for the GliGli upgraded Prophet 600}
\author{Florian Merz (Editor)}
\pagestyle{myheadings}\markright{[DRAFT] User Manual for the GliGli upgraded Prophet 600}
\makeatletter
\renewcommand\chapter{\pagestyle{myheadings}\markright{[DRAFT] User Manual for the GliGli upgraded Prophet 600}\global\@topnum\z@\@afterindentfalse\secdef\@chapter\@schapter}
\makeatother
\titleformat{\chapter}[display]{\LARGE\bfseries}{}{0.0cm}{}
%\titleformat{\chapter}[display]{\pagebreak\LARGE\bfseries}{}{0.0cm}{}
\titlespacing{\chapter}{0pt}{*0}{*0}
%\titleformat{\section}[display]{\Large\bfseries}{}{0.0cm}{}
\titlespacing{\section}{0pt}{*0}{*0}


%%
%% Document Start
%%


\begin{document}

% this it the title "Prophet 600"
  \begin{tikzpicture}[scale=0.8]
    \begin{scope}[xslant=0.1]
        \SSGBit[1.5cm]{0,0}{12567}
        \SSGBit[1.5cm]{2.5cm,0}{57}
        \SSGBit[1.5cm]{5cm,0}{5734}
        \SSGBit[1.5cm]{7.5,0}{12567}
        \SSGBit[1.5cm]{10cm,0}{3567}
        \SSGBit[1.5cm]{12.5cm,0}{14567}
        \SSGBit[1.5cm]{15cm,0}{4567}
        \SSGBit[1.5cm]{17.5cm,0}{}
        \SSGBit[1.5cm]{20cm,0}{134567}
        \SSGBit[1.5cm]{22.5cm,0}{123456}
        \SSGBit[1.5cm]{25cm,0}{123456}
      \end{scope}
  \end{tikzpicture}
  
  \Huge
  User Manual
  \normalsize

\pagebreak

%\maketitle
\tableofcontents


\pagebreak
\chapter{Introduction to the GliGli Prophet 600 Firmware Upgrade}

\begin{flowtext}

\section{What you can expect from the Firmware Upgrade}

The credit of the original idea and implementation of the Prophet 600 firmware upgrade belongs to GliGli\cite{gligli}. He describes his motivation as follows:

\begin{addmargin}[2cm]{1cm}

\textit{I love vintage analog synthesizers, and to be honest, my dream synth would be a Prophet 5, but when I heard what the Prophet 600 was capable of tone wise, I immediately thought its major weaknesses -- the lousy computer part, software envelopes and LFO -- could become its strength with a remake; basically the whole internal synth in voltage-controlled from a nice 14bit DAC, so with a fast modern micro controller, it could become awesome, maybe even better than a Prophet 5!}

\end{addmargin}

The original Sequential Circuits Prophet 600 is run by a Z80 processor. This processor and firmware written for it reach their limits when computing the voltages, scanning user inputs and managing MIDI events making the instrment glitchy and non-responsive. GliGli reversed engineered the original firmware for the Z80 and found that the Z80 can be replaced by a (more) modern Teensy 2.0++ USB programmable microprocessor \cite{teensy}. The Teensy not only fits in to the 2x20 pin standard header but could also be programmed to take the role of Z80 with only slight modifications. In this way the limitations of the original Prophet 600 could be overcome - but more than that, it opened the possibility for new features (which may or may not have been on the feature list of Sequential Circuits). There are various modifications and modern CPU "implants" for some vintage analog synthesizers. One decisive advantage of the Teensy approach to the Prophet 600 is that it is an easy-to-install and non-destructive firmware drop-in replacement\footnote{There are two versions of the Prophet 600. One has the Z80 on a socket. In this case replacement is truly "drop-in". The other version has the Z80 soldered to the circuit board. In this case the Z80 needs to be removed a socket has to be soldered in its place first.}. So it is safe to try it out because one can always remove the Teensy board and restore the Z80 without technical expertise or training.

Developing the software was a major effort with low level functions at the core which deal with setting voltages to the electronic components, processing clock alignment, MIDI implementation, decoding the user inputs from dials, buttons and the keyboard and last but not least the "musical" coding of envelopes, modulations and sequencing functions. Many people have contributed, many out of curiosity and passion for synthesizers, most out of excitement that such a project could not only be conjured up but also be implemented and brought to life. The hardware of the Prophet 600 certainly justifies the effort: other than many DCO synths of the time the Prophet 600 is a 6 voice analog synthesizer driven by 12 voltage controlled oscillators (VCOs) and 24db low pass filters, all implemented using the famous Curtis chips\cite{curtis}. Furthermore, the hardware provides hard sync, ring modulation and modulation of cut-off by VCO. It is very versatile.

The following is a compact summary of the improved and the  new features which the upgraded Prophet 600 provides on this hardware. The manual refers to version 2.2 and differences between versions are marked or commented in the text. 

\textbf{General features}
  
\begin{itemize}
  \setlength\itemsep{0cm}
  \item Greater resolution of many of the sound parameters with an improved refresh rate that is making the instrument much more responsive
  \item Faster and smoother ADSR envelopes with support two speed regimes (slow, fast) and two shapes (linear, exponential)
  \item positive and negative envelope amount settings for filter and poly-mod
  \item A new LFO function generator with a wider frequency range from one cycle every 20 seconds to about 60Hz
  \item Assignable, Random And Up/Down Arpeggiator sync-able to MIDI clock
  \item Multiple note assignment modes including last/low/high note priority
  \item Full MIDI In control including amplitude and filter velocity sensitivity with an external keyboard controller, continuous Controllers (CC) of all sound parameters, program change (PC) to choose current preset
  \item A dedicated vibrato which can be controlled by the modulation wheel, or can start progressively after a fixed amount of time
  \item Keyboard mode chord in addition to polyphonic and unison  
  \item Four new waveforms in addition to the original triangle and square including sine, random stepped, noise (like on the original Prophet 5, but non-periodic) and sawtooth (ramp up)
  \item Mix Overdrive which now allows the output from both oscillators to drive the mix VCAs A and B harder as well as the Curtis 4 pole filter resulting in new sonic possibilities
  \item Pitch Wheel interval selection of plus/minus one octave, a whole tone, a minor third and a fifth
  \item Pitch Wheel reassignment to the VCF and Volume or off   
  \item Modulation wheel intensity setting from Maximum to Medium to Minimum
  \item A new and improved tuning procedure
  \item Octave, chromatic and free Oscillator course pitch control
  \item Debounce feature that prevents unintended re-triggering caused by the old keyboard
\end{itemize}

\textbf{Features with version 2.1 RC3}
  
\begin{itemize}
  \item Polyphonic step sequencer
  \item Per note tuning
  \item Support for external CV
  \item Improved UI, introducing display of -50...48 range for bipolar dials and center deadband for better handling  
  \item VCF limit option
  \item Maintenance mode
  \item Support for pedal to sustain notes and to hold chords (in unison)
  \item On-the-lfly transpose function for arpeggiator and sequencer
\end{itemize}

\textbf{Features with version (t.b.d.)}
  
\begin{itemize}
  \item A new UI concept in preset mode in which the dials have a pick-me-up behaviour, in order to avoid discontinuous value changes and to make the differences between panel and internal values transparent 
  \item Flexible envelope routing allowing the poly-mod to by modulated by either envelope generator
  \item Possibility to sync the LFO to the thythm of the arpeggiator or sequencer
  \item Continuous spread parameter introducing voice variations in tune and envelopes
  \item Better MIDI integration possibilities through new local off mode
  \item Improved patch management via MIDI, supporting loading MIDI patch to active controls 
  \item Various improvements such as arppegiator / sequencer speed stability and reconciliation of internal and external bend  
\end{itemize}

\section{Versions of the firmware upgrade and compatibility}

The first stable version of the Firmware Upgrade was version 2.0 \cite{versiontwo}. An intermediate release (or at least something close to a release) version 2.1 Release Candidate 3 has been available from September 5th 2015 on \cite{gligli}. The current release is version (t.b.d.). 

Upgrading the firmware can be done by SysEx (or directly using the USB port of the Teensy board), see section \ref{fwupgrade}. When upgrading the Prophet 600 patch data and settings are preserved. Note that since this is an open source project different variants of the firmware upgrade have been developed by users. In the main development branch, however, backward compatibility is intended to be ensured. This applies in particular to patches and settings as stored in the Prophet 600 memory or dumped SysEx files. It also applies to the panel overlay which some users have acquired to reflect the (slightly) altered function of some dials. 

\textbf{For users upgrading from version 2.1 RC3}

\textbf{For users upgrading from version 2.0}

\section{Credits and license}

The Firmware Upgrade project has been set up by GliGli as an open source project with a public code repository on GitHub\cite{repository}. 

(this needs to be done)

Despite the fact that many have contributed and have spent considerable time to make this software as useful and consistent as possible and despite the fact that many users continue to enjoy the upgrade, the usage of the software and this documentation are understood to be at the user's own risk.


\end{flowtext}

\chapter{Finding your way around your new  Prophet 600}    

\begin{flowtext}

The different controls and interfaces of the Prophet 600 are shown schematically below. Through the document the corresponding nomenclature is used. 

\scalebox{0.2}{
  \begin{tikzpicture}[scale=0.8]

  \node[rectangle, draw, rounded corners=7pt, line width=1pt, minimum width = 102cm, minimum height = 3cm, anchor = south west] (r) at (0cm,23.25cm) {}; % rear
 
  \prophetdisplay{4cm,17.5cm}{123}{12754}{1}
  \numberpad{1cm,4cm}
  \node[font=\fontsize{18}{12}\selectfont, text width=8cm, text centered, inner sep=0.0mm, minimum width=8cm] at (5cm,3cm) {\panelfont{PROGRAM SELECT}};
  \draw[line width=2pt]++(10,20)--++(0,-18cm); % -0.9cm,-4.65cm  
  \buttonblock{11cm,7cm}{P}{}
  \prophetpot{16.9cm,4.5cm}{SPEED}{75}
  \node[rectangle, draw, rounded corners=7pt, line width=1pt, minimum width = 19cm, minimum height = 17cm, anchor = south west] (r) at (0cm,1cm) {}; % buttons

  % panel
  \node[rectangle, draw, rounded corners=7pt, line width=1pt, minimum width = 82cm, minimum height = 17cm, anchor = south west] (r) at (25cm,1cm) {}; % panel  
  \polymodesubpanel{26.25cm,12cm};
  \lfosubpanel{26.25cm,2.5cm};
  \pswitch{52cm,17cm}{UNISON}
  \oscapanel{54.5cm,12cm}
  \oscbpanel{54.5cm,2.5cm}
  \adsrpanel{93cm,2cm}
  \filterpanel{93cm,9cm}

  \prophetpot{123cm,16.5cm}{MASTER TUNE}{75}
  \prophetpot{123cm,7.5cm}{VOLUME}{75}
  
  \node[rectangle, draw, rounded corners=7pt, line width=1pt, minimum width = 7cm, text centered, minimum height = 8cm, text width=5cm, anchor = north west] (r) at (0cm,-0.25cm) {\Large\textit{Performance Section (Pitch Bend and Modulation Wheel)}};
  \node[rectangle, draw, rounded corners=7pt, line width=1pt, minimum width = 94cm, minimum height = 8cm, anchor = north west] (r) at (10cm,-0.25cm) {\Large\textit{Keyboard}};
  
  % legend left
  \node[font=\fontsize{26}{12}\selectfont, align=right, outer sep=0.5mm, anchor = east] at (-2cm,-2.5cm) (ps) {Performance Section};
  \draw[line width=1pt]++(ps.east)--++(2.5cm,0cm);  
  \node[font=\fontsize{26}{12}\selectfont, align=right, outer sep=0.5mm, anchor = east] at (-2cm,19.5cm) (pd) {Data Pad};
  \draw[line width=1pt]++(pd.east)--++(2.5cm,0cm);  
  \node[font=\fontsize{26}{12}\selectfont, align=right, outer sep=0.5mm, anchor = east] at (-2cm,9.35cm) (np) {Number Pad};
  \draw[line width=1pt]++(np.east)--++(5.8cm,0cm);  
  \node[font=\fontsize{26}{12}\selectfont, align=right, outer sep=0.5mm, anchor = east] at (-2cm,17.5cm) (dis) {Display};
  \draw[line width=1pt]++(dis.east)--++(5cm,0cm);  
  \node[font=\fontsize{26}{12}\selectfont, align=right, outer sep=0.5mm, anchor = east] at (-2cm,15.5cm) (dis) {Function Buttons};
  \draw[line width=1pt]++(dis.east)--++(16cm,0cm);  
  \node[font=\fontsize{26}{12}\selectfont, align=right, outer sep=0.5mm, anchor = east] at (-2cm,24.75cm) (pd) {Rear};
  \draw[line width=1pt]++(pd.east)--++(2.5cm,0cm);  
  
  % legend right
  \node[font=\fontsize{26}{12}\selectfont, align=left, outer sep=0.5mm, anchor = west] at (129.5cm,19cm) (pl) {Panel};
  \draw[line width=1pt]++(pl.west)--++(-2.5cm,0cm);  
  \node[font=\fontsize{26}{12}\selectfont, align=left, outer sep=0.5mm, anchor = west] at (129.5cm,-3.5cm) (kb) {Keyboard};
  \draw[line width=1pt]++(kb.west)--++(-2.5cm,0cm);  

  
  \end{tikzpicture}
}

The remaining section contains a brief explanation of the controls and interfaces: the \textbf{Rear}, \textbf{Data Pad}, \textbf{Panel} (with subpanels), \textbf{Performance Section} and \textbf{Keyboard}.

\section{Data Pad and basic operation}\label{datapad}

The Data Pad consists of the \textbf{Display} (2 two digit 7 segment display with one dot), the \textbf{Number Pad}, the \textbf{Function Buttons} and the \textbf{Data Dial} (denoted as "Speed" dials). 

\textbf{Function Buttons}

The block of 9 Function Buttons is the central starting point from where the operation modes and functions of the Prophet 600 are activated. This block consists of an upper part (controlling essential functions) and a block of buttons relevant for the sequencer and arpeggiator, as shown below.

\scalebox{0.4}{
  \begin{tikzpicture}[scale=0.8]
  \node[font=\fontsize{26}{22}\selectfont, align=right, outer sep=0.5mm, anchor = west, text width=10cm] at (0cm,12cm) {Upper block of Function Buttons:};
    \upperbuttons{15cm,7cm}{P}{}
  \node[font=\fontsize{26}{22}\selectfont, align=right, outer sep=0.5mm, anchor = west, text width=10cm] at (30cm,12cm) {Buttons relevant for sequencer and arpeggiator:};
    \arpsqbuttons{45cm, 9cm}{R1}{1}
  \end{tikzpicture}
}

The function buttons have LEDs wich can be off, be on solid and on blinking. In the entire document the following convention for representing the button LED status off / on / blinking is used.

\scalebox{0.4}{
  \begin{tikzpicture}[scale=0.8]
  \node[font=\fontsize{26}{22}\selectfont, align=left, outer sep=0.5mm, anchor = west] at (0cm,2.5cm) {LED \\ Status:};
  \prophetledbutton[1cm]{10cm, 2.5cm}{RECORD}{R}{}{R}
  \node[font=\fontsize{26}{22}\selectfont, align=left, outer sep=0.5mm, anchor = west] at (11.5cm,2.5cm) {= LED on solid};
  \prophetledbutton[1cm]{25cm, 2.5cm}{RECORD}{R}{R}{R}
  \node[font=\fontsize{26}{22}\selectfont, align=left, outer sep=0.5mm, anchor = west] at (26.5cm,2.5cm) {= LED on blinking};
  \prophetledbutton[1cm]{40cm, 2.5cm}{RECORD}{}{}{R}
  \node[font=\fontsize{26}{22}\selectfont, align=left, outer sep=0.5mm, anchor = west] at (41.5cm,2.5cm) {= LED off};
  \end{tikzpicture}
}

The different functions of the buttons are decribed in the general modes desription in section \ref{uimode} and general throughout the chapter on \textbf{Functionality} wherever the buttons are used for a specific function. 

\textbf{Preset panel mode, live mode and additional patch parameters menu}\label{app}

The Prophet 600 operates in two modes, \textbf{preset} mode and \textbf{live} mode, see section \ref{uimode}. The mode of operation determines what the display shows and what functions are invoked when pressing the number pad buttons, as shows in the table below.

\scalebox{0.4}{
  \begin{tikzpicture}[scale=0.8]
    \node[font=\fontsize{26}{22}\selectfont, align=left, outer sep=0.5mm, anchor = west] at (-8cm,13cm) {Basic modes:};

    \draw[line width=1pt]++(-6cm,-7.5cm)--++(55cm,0cm);  
    \draw[line width=1pt]++(-6cm,-5cm)--++(55cm,0cm);  
    \draw[line width=1pt]++(-6cm,-3cm)--++(55cm,0cm);  
    \draw[line width=1pt]++(-6cm,-1cm)--++(55cm,0cm);  
    \draw[line width=1pt]++(-6cm,9.5cm)--++(55cm,0cm);  

    \node[font=\fontsize{26}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=12cm] at (-6cm,5cm) {LED};
    \node[font=\fontsize{26}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=12cm] at (-6cm,-2cm) {Display};
    \node[font=\fontsize{26}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=12cm] at (-6cm,-4cm) {Number pad};
    \node[font=\fontsize{26}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=12cm] at (-6cm,-6.5cm) {Enter / leave};

    \node[font=\fontsize{26}{22}\selectfont, outer sep=0.0mm, anchor = south west, text centered, text width=12cm] at (4cm,10cm) {Live mode};
    \node[font=\fontsize{26}{22}\selectfont, outer sep=0.0mm, anchor = south west, text centered, text width=12cm] at (19.2cm,10cm) {Preset Patch mode};
    \node[font=\fontsize{26}{22}\selectfont, outer sep=0.0mm, anchor = south west, text centered, text width=12cm] at (34.2cm,10cm) {Preset Panel mode};

    \node[font=\fontsize{18}{22}\selectfont, outer sep=0.0mm, anchor = west, text centered, text width=12cm] at (4cm,-2cm) {Parameter values};
    \node[font=\fontsize{18}{22}\selectfont, outer sep=0.0mm, anchor = west, text centered, text width=12cm] at (19.2cm,-2cm) {Patch number};
    \node[font=\fontsize{18}{22}\selectfont, outer sep=0.0mm, anchor = west, text centered, text width=12cm] at (34.4cm,-2cm) {Parameter values};

    \node[font=\fontsize{18}{22}\selectfont, outer sep=0.0mm, anchor = west, text centered, text width=12cm] at (4cm,-4cm) {Select add. parameter};
    \node[font=\fontsize{18}{22}\selectfont, outer sep=0.0mm, anchor = west, text centered, text width=12cm] at (19.2cm,-4cm) {Select patch};
    \node[font=\fontsize{18}{22}\selectfont, outer sep=0.0mm, anchor = west, text centered, text width=12cm] at (34.4cm,-4cm) {Select add. parameter};

    \node[font=\fontsize{18}{22}\selectfont, outer sep=0.0mm, anchor = west, text centered, text width=12cm] at (4cm,-6.25cm) {From preset modes using Preset button};
    \node[font=\fontsize{18}{22}\selectfont, outer sep=0.0mm, anchor = west, text centered, text width=12cm] at (19.2cm,-6.25cm) {From live mode using Preset, from preset panel mode using To Tape};
    \node[font=\fontsize{18}{22}\selectfont, outer sep=0.0mm, anchor = west, text centered, text width=12cm] at (34.4cm,-6.25cm) {From preset patch mode using To Tape};

    \upperbuttons{6cm, -0.5cm}{}{}   
    \upperbuttons{21cm, -0.5cm}{P}{}   
    \upperbuttons{36cm, -0.5cm}{PT}{}   
    \draw[line width=1pt]++(4cm,-7.5cm)--++(0cm,19cm);  
    \draw[line width=1pt]++(19.2cm,-7.5cm)--++(0cm,19cm);  
    \draw[line width=1pt]++(34.4cm,-7.5cm)--++(0cm,19cm);  
  \end{tikzpicture}
}

The following section describes how patch parameters are accessed and modified in live mode and in preset panel mode. Patch parameters are - by definition - stored, exported and loaded per patch. Most patch parameters can be controlled using dials and switches on the Panel (see section \ref{panel}). With the firmware upgrade the Prophet 600 provides a range of \textbf{Additional Patch Parameters}. To changing these parameters can only be done in preset panel mode or in live mode. The user must select the parameter first and then change the value using the \textbf{Data/Speed} dial. A parameter is selected by pressing the buttons 0...9 (or pressing them twice or in some cases three times). If a new parameter is selected respective parameter name is scrolled through the display. The display then shows the current value which is either numeric (permanently shown) or a choice setting (scrolled through the display). 

Each parameter is explained in the respective functional context in the next chapter. For a quick reference of additional patch parameters please see section \ref{patchref}. 

Note: The parameter accessed using the number 0 is an exception. The parameter controls the internal sequencer and arpeggiator speed and this speed is stored as a instrument settings (see next section) and not as a patch parameter. 

Note: In other modes the display and the number pad is reserved for other functions, e.g. in preset patch mode the display shows the patch (preset) number. By default the number pad is reserved for selecting the patch number is preset patch mode, in record mode and in patch management mode.

\textbf{Number Pad}

The Number Pad has three usages depending on mode and selected functions:

\begin{itemize}
  \item Selecting a patch number either for loading from one of the internal 100 patch storage slots in preset patch mode
  \item Selecting a patch number either for storing to one of the internal 100 patch storage slots in storage mode (see section \ref{loadstorepatches})
  \item Selecting a patch number either for export a patch as MIDI SysEx in patch management mode (see section \ref{mididump})
  \item Selecting a function / setting in shift and shift-lock mode (see below)  
  \item Selecting a parameter in the additional patch parameter menu (see section \ref{app}) in preset panel mode and in live panel mode
\end{itemize} 

\textbf{Display}

\input{display.tex}

\textbf{Shift mode and miscellaneous settings}

The miscellaneous settings are patch independent instrument settings. These settings are stored and are loaded after a power cycle. The miscellaneous settings are accessed via the numer pad in \textbf{shift} mode. To activate this mode either hold down the button \textbf{From Tape} while selecting one of the additional functions or double click \textbf{From Tape} to enter \textbf{shift-lock} mode (permanent shift) indicated by a blinking From Tape LED. To exit the mode push the button again. 

In shifted mode the numbers 0...9 on the number pad access the miscellaneous settings. Note that changing the miscellaneous settings is done using the number pad alone without the data/speed dial. The settings are edited by pressing number key repeatedly to cycle through values or to initiate actions. The first time a number is pressed the display scrolls the current value or mode. Pressing the same number key again cycles through the values of that setting or confirms a certain action or mode change. The list of miscellaneuous settings can be found in section \ref{settingsref}. Each setting is explained in the respective functional context in the next chapter or in the appropriate section in the setup chapter.

In addition to miscellaneous settings, shift mode provides access to further functions. In shift mode ...
\begin{itemize}
  \item ... the keys on the keyboard are used to set the keyboard transposition (see section \ref{transposition}) 
  \item ... tuning button activates a per note tuning mode (see section \ref{tuning}).
  \item ... pressing the record button axtivates the patch management mode (see section \ref{mididump})
  \item ... pressing the preset button (and confirmation) loads the default patch
\end{itemize}

\section{Panel}\label{panel}

The panel is organized in 6 subpanels plus 3 additional controls (Unison switch, master tune and master volume)\footnote{In the original Prophet 600 the dials "Mix" and "Glide" were also separate from he subpanels but in the upgraded Prophet 600 these two dials take the role of oscillator A volume and oscillator B volume, respectively. So these two dials are now associated with the oscillator A and B subpanels.}. The patch parameters controls on the panel are the following subpanels (from left to right) and the unison switch: 

\begin{itemize}
  \item Poly-Mod (see section \ref{polymod})
  \item LFO (see section \ref{LFO}
  \item Oscillator A (see section \ref{osc}). This includes the oscillator A volume control (in the original panel layout denoted as "Mix").
  \item Oscillator B (see section \ref{osc}). This includes the oscillator B volume control (in the original panel layout denoted as "Glide").
  \item Filter (see section \ref{filter} and \ref{envelopes}) 
  \item (Amp) Envelope (see section \ref{envelopes})
  \item Unison switch (see section \ref{poly-unison-voice})
\end{itemize}

The controls in the subpanels and the unison switch are all patch parameters, e.g. stored, loaded, imported and exported with a patch. 

The panel control \textbf{Master Tune} and \textbf{Volume} to the very right of the panel are not part of the patch. These control are always applied as they are set because these are used to adjust the instrument to the environment (e.g. spontaneous tuning to a band/ensemble and adjustment of the volume).

\section{Keyboard and performance section}

Without modifications, the Prophet 600 comes with a non-weighted, 5 octave (61 key) keyboard. The keyboard does not support touch sensitivity (although the upgraded Prophet 600 supports velocity sensitivity for amplitude and filter vi MIDI, see section \ref{velocity}). Apart from playing, the keyboard is used for sequencer input (see section \ref{seq}) and transposition (see section \ref{transposition}). 

\section{Rear, inputs and output)}

\input{rear.tex}

\section{The work flow concept}

With the clearly laid out panel controls the the Prophet 600 is both, a hands-on performance instrument and sound sculpting synthesizer. The upgrade preserves that basic character. The controls on the panel have largely have the same function as in original except for some minor changes. However, the new functionalities of the upgrade required additional parameters and these had to be placed in the new menus. This has disadvantages. Diving into menus interrupts the work flow. It is abstract and unsatisfying. It is only acceptable for parameters which are rarely used and certainly not suited for live tweaking. Another improtant aspect is the perservation of the user interface concept. In particular, for each function there should be a unique and self-contained way to change it, instead of have a mix of say, dials and menues. This is one reason why he upgrade also contains "only" one LFO and two envelopes even though one might have added more with the new processor: this corresponds to the layout of the Prophet 600 and anything more would have meant at least a partial dive into menues. The upgraded Prophet 60 fulfills this ideal to a large degree but not fully. The LFO shape, for instance, is a mix of flipping a swithc on the control panel and choosing options in the additional patch parameter menu. However, this is one of a few notable exceptions.

A useful work flow of the upgraded Prophet 600 for creating or editing patches could be as follows:

\begin{enumerate}
  \item Pre-production: Set basic overall patch parameters, such as envelope shapes and routing, LFO targets and range 
  \item Production: Use the panel controls to interactively design the sound 
  \item Post-production: add additional features, such as vibrato and bend modulation for a final touch
\end{enumerate} 

Ideally, menu diving should be largely restricted to steps 1 and 3 so that uninterrupted hands-on and interactive work with the synthesizer is possible in step 2. It may not always be possible to finalize step 1 upfront and the user may occasionally have to go back to step 1.Nevertheless, the workflow should be more or less natural.

\chapter{Functionality}

\section{Operating modes: preset and live mode}\label{uimode}

\input{uimode.tex}

\section{Loading and storing presets}\label{loadstorepatches}

\input{loadstorepatches}

\section{Oscillator and mix}\label{osc}

\input{osc.tex}

\section{Volume and master tune}

To the right of the panel there two global parameter dials, the \textbf{Master Tune} and \textbf{Volume} dials. The master tuning has a range or approximately $\pm$semitone. It's purpose is to be able to tune the synth to other instruments without touching the internal, relative frequencies of the oscillators and thereby potentially changing the patch.

(Master) volume and master tune are neither patch parameters nor settings. The two values are applied as set on the panel. The only exception is external MIDI control of volume (see section \ref{midiimplenentation}). When the master volume is set via MIDI CC that volume level applies until either a new value is set by MIDI or if the volume panel control is touched.     

\section{Filter}\label{filter}

\input{filter.tex}

\section{Envelopes and routing}\label{envelopes}

\input{envelopes.tex}

\section{Polyphonic, unison and chord mode, voice assignment priority}\label{poly-unison-voice}

\input{poly-unison-voice.tex}

\section{LFO}\label{lfo}

\input{lfo.tex}

\section{Poly-Mod}\label{polymod}

\input{polymod.tex}

\section{Arpeggiator and sequencer clock}\label{sync}

The Prophet 600 offers a polyphonics sequencer with two tracks and an arpeggiator with three distinct patterns. The details of operation are explained in sections \ref{seq} and \ref{arp}.

The sequencer and the arpeggiator share the same clock and on this clock the two sequencer tracks and one of the arpeggiator patterns can run in parallel. In order to be able to operate the sequencer and/or arpeggiator in sync with other instruments, the upgraded Prophet 600 provides three different clock source methods which are set in the miscellaneous setting 8 (e.g. press 8 in shifted or shift-locked mode once to see the current value and press repeatedly to cycle through the options):
\begin{itemize}
  \item \textit{internal}: an internal clock is used. The clock speed is edited like an additional patch parameter when press number 0 in preset panel mode or live mode.
  \item \textit{MIDI}: the clock is synced to the MIDI clocked received on the MIDI receive channel as set in the  miscellaneous settings
  \item \textit{Tape}: the clock is synced to a fraction of a pulse clock received via the Tape In input on the rear of the instrument
\end{itemize}  

It is possible to sync the LFO to the sequencer / arpeggiator clock (ir external clock) using the additional patch parameter \textbf{(111) LFO Sync}, see section \ref{lfo}.

\section{Arpeggiator}\label{arp}

\input{arp.tex}

\section{Sequencer}\label{seq}

\input{seq.tex}

\section{Vibrato}\label{vib}

\input{vibrato.tex}

\section{Pitch bender}\label{pitchbend}

\input{pitchbend.tex}

\section{Modulation wheel and modulation delay}\label{modwheel}

\input{modwheel.tex}

\section{Glide}\label{glide}

In the original Prophet 600 the glide setting (the glide time) had a dedicated dial. In the upgraded Prophet 600 the dial has been re-designated to control the amplitude of OSC B. As a consequence the glide time has been moved to the additional patch parameter \textbf{(7) Glide}. 

\section{Detune}\label{detune}

The upgraded Prophet 600 provides a method to detune the 6 voices against one another. This effect is used to make unison sounds broader and more lively. In fact, detune is only applied when unison is activated. The additional patch parameter is \textbf{(77) Detune}

Note that the effect of the spread parameter (see section \ref{spreadsett} is applied with and without unison and is therefore added to detune in unison. 

\section{Spread}\label{spreadsett}

\input{spread.tex}

\section{External CV in}\label{extcv}

(this needs to be done)

\section{Velocity sensitivity}\label{velocity}

(this needs to be done)

\chapter{Synthesizer setup and maintenance}

\section{Tuning}\label{tuning}

\input{tuning.tex}

\section{MIDI integration}\label{midiintegration}

\input{midiintegration.tex}

\section{Voice deactivation}

The upgrade Prophet 600 provides a method for switching single voices of the Prophet 600 off. This can be useful to suppress a voice that is damaged or for troubleshooting, e.g. isolating voices for testing. The "voice masking" is done using the settings 4 and 5:
\begin{enumerate}
  \setlength\itemsep{0cm}
  \item Pressing key 4 while holding down From Tape repeatedly cycles through the 6 voice of the Prophet 600. This selection determines the functionality of the key 5 in the setting menu.
  \item Key 5 toggles between on and off of the voice selected using key 4. In the upgrade Prophet 600 the user can deactivate selected voices in this way.
\end{enumerate}

\section{Transposition}\label{transposition}

The upgraded Prophet 600 provides a method for transposing the keyboard. In shift mode the last pressed key will define the transposition, the middle C3 being zero transposition. The value is also scrolled through the display for conformation. 

Transposition also applies to arpeggiator and sequencer. The transposition procedure also works in the respective run, latch and record modes.

\section{VCF limit}\label{limitsett}

In the upgraded Prophet 600 it is possible to limit the cut-off frequency of the filter to 22kHz in order to avoid strange filter behaviour in the ultrasonic range.

\section{Managing sound libraries via SysEx}\label{mididump}

\input{patchmgmt.tex}

\section{Scaling adjustment}\label{maintenance}

\input{maintenancemode.tex}

\section{SysEx firmware upgrade}\label{fwupgrade}

For a firmware upgrade in a Prophet 600 with an original Z80 processor please refer to the modification instructions \cite{modinstructions}. The following section is for owners of a modified Prophet 600 with Teensy board and a prior version of the GliGli upgrade installed. If modifying a Prophet 600 for the time one may directly flash the Teensy board with software version 2.2. It is not necessary to first install a lesser version and then upgrade.

Firmware upgrades are provided as MIDI SysEx files (*.syx) \footnote{They are also provided as *.hex files for USB transfer to the Teensy board.}. In order to perform the upgrade follow to step below.

\begin{enumerate}
  \setlength\itemsep{0cm}
  \item Switch off the instrument
  \item Switch on the instrument while holding the buttons \textbf{To Tape} and \textbf{From Tape} down. The display should show an "U" for upgrade on the left digit.
  \item Send the firmware SysEx file to the instrument. This process takes a while. The display shows a spinning segment. Once the process is completed, the display shows an "S" for success. If the upgrade ends with “E” for error on the display, the upgrade has failed and the upgrade procedure must be repeated until it succeeds. It is not recommended to start the instrument in normal mode after a failed upgrade.
  \item Switch the instrument off and on again. The scrolled welcome message should state the version "GliGli's P600 Upgrade Version \textit{<version>}"
\end{enumerate}

Users are recommended to follow the MIDI SysEx part of the modification instructions \cite{modinstructions}. In particular, the "Delay between buffers" and the "delay after F7" should be set to at least 250ms.

The settings and preset parameters are left unchanged by the upgrade, provided the previously installed version is one for which backward compatibility is supported. This applies to the following versions:

\begin{itemize}
  \setlength\itemsep{0cm}
  \item Version 2.0
  \item Version 2.1 Release Candidate 3 (not officially released)
  \item Version XXX
\end{itemize} 

Downgrading versions is possible but preservation of settings and preset parameters is not guaranteed in that case.

\end{flowtext}

\chapter{Reference}

\begin{flowtext}

\section{Patch parameter overview}\label{patchref}

\input{patchref.tex}

\section{Settings parameter overview}\label{settingsref}

\input{settingsref}

\section{MIDI control implementation}\label{midiimplenentation}

\input{midiimplementation.tex}

\end{flowtext}

\pagebreak

\section{Operation modes}\label{modes}

\textbf{Live mode}

\scalebox{0.25}{
  \begin{tikzpicture}[scale=0.8]
  \node[font=\fontsize{26}{22}\selectfont, align=right, outer sep=0.5mm, anchor = west, text width=8cm] at (0cm,12cm) {Live mode:};
    \upperbuttons{13cm,7cm}{}{}

    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,5.25cm) {Panel controls};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,5.25cm) {(normal function)};
    \draw[line width=1pt]++(29cm,6cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,6.75cm) {Performance};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,6.75cm) {(normal function)};
    \draw[line width=1pt]++(29cm,7.5cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,8.25cm) {Keyboard};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,8.25cm) {(normal function)};
    \draw[line width=1pt]++(29cm,9cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,9.75cm) {Display};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,9.75cm) {Show parameter values};
    \draw[line width=1pt]++(29cm,10.5cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,11.25cm) {Number pad};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,11.25cm) {Select patch parameter};
    \draw[line width=1pt]++(29cm,12cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,12.75cm) {Record};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,12.75cm) {Enter record mode};
    \draw[line width=1pt]++(29cm,13.5cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,14.25cm) {Preset};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,14.25cm) {Leave live mode and enter preset patch mode};
    \draw[line width=1pt]++(29cm,15cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,15.75cm) {Tune};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,15.75cm){Start tuning procedure};
    \draw[line width=1pt]++(29cm,16.5cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,17.25cm) {From Tape};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,17.25cm) {Shift and shift-lock modes (double click)};
    \draw[line width=1pt]++(29cm,18cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,18.75cm) {To Tape};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,18.75cm) {};
    
    \draw[line width=1pt]++(35cm,4.5cm)--++(0cm,15cm);  

  \end{tikzpicture}
}

\textbf{Preset panel mode}

\scalebox{0.25}{
  \begin{tikzpicture}[scale=0.8]
  \node[font=\fontsize{26}{22}\selectfont, align=right, outer sep=0.5mm, anchor = west, text width=8cm] at (0cm,12cm) {Preset panel mode:};
    \upperbuttons{13cm,7cm}{PT}{}

    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,5.25cm) {Panel controls};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,5.25cm) {Pick-me-up function};
    \draw[line width=1pt]++(29cm,6cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,6.75cm) {Performance};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,6.75cm) {(normal function)};
    \draw[line width=1pt]++(29cm,7.5cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,8.25cm) {Keyboard};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,8.25cm) {(normal function)};
    \draw[line width=1pt]++(29cm,9cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,9.75cm) {Display};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,9.75cm) {Pick-me-up display (value or relative position)};
    \draw[line width=1pt]++(29cm,10.5cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,11.25cm) {Number pad};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,11.25cm) {Select patch parameter};
    \draw[line width=1pt]++(29cm,12cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,12.75cm) {Record};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,12.75cm) {Enter record mode};
    \draw[line width=1pt]++(29cm,13.5cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,14.25cm) {Preset};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,14.25cm) {Leave preset mode and enter live mode};
    \draw[line width=1pt]++(29cm,15cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,15.75cm) {Tune};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,15.75cm) {Start tuning procedure};
    \draw[line width=1pt]++(29cm,16.5cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,17.25cm) {From Tape};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,17.25cm) {Shift and shift-lock modes (double click)};
    \draw[line width=1pt]++(29cm,18cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,18.75cm) {To Tape};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,18.75cm) {Enter preset patch mode};
    
    \draw[line width=1pt]++(35cm,4.5cm)--++(0cm,15cm);  

  \end{tikzpicture}
}

\textbf{Preset patch mode}

\scalebox{0.25}{
  \begin{tikzpicture}[scale=0.8]
  \node[font=\fontsize{26}{22}\selectfont, align=right, outer sep=0.5mm, anchor = west, text width=8cm] at (0cm,12cm) {Preset patch mode:};
    \upperbuttons{13cm,7cm}{P}{}

    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,5.25cm) {Panel controls};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,5.25cm) {(normal function)};
    \draw[line width=1pt]++(29cm,6cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,6.75cm) {Performance};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,6.75cm) {(normal function)};
    \draw[line width=1pt]++(29cm,7.5cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,8.25cm) {Keyboard};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,8.25cm) {(normal function)};
    \draw[line width=1pt]++(29cm,9cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,9.75cm) {Display};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,9.75cm) {Display patch number};
    \draw[line width=1pt]++(29cm,10.5cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,11.25cm) {Number pad};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,11.25cm) {Enter patch number};
    \draw[line width=1pt]++(29cm,12cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,12.75cm) {Record};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,12.75cm) {Enter record mode};
    \draw[line width=1pt]++(29cm,13.5cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,14.25cm) {Preset};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,14.25cm) {Leave preset mode and enter live mode};
    \draw[line width=1pt]++(29cm,15cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,15.75cm) {Tune};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,15.75cm) {Start tuning procedure};
    \draw[line width=1pt]++(29cm,16.5cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,17.25cm) {From Tape};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,17.25cm) {Shift and shift-lock modes (double click)};
    \draw[line width=1pt]++(29cm,18cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,18.75cm) {To Tape};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,18.75cm) {Enter preset panel mode};
    
    \draw[line width=1pt]++(35cm,4.5cm)--++(0cm,15cm);  

  \end{tikzpicture}
}

\textbf{Record mode}

\scalebox{0.25}{
  \begin{tikzpicture}[scale=0.8]
  \node[font=\fontsize{26}{22}\selectfont, align=right, outer sep=0.5mm, anchor = west, text width=8cm] at (0cm,12cm) {Record mode:};
    \upperbuttons{13cm,7cm}{R}{R}

    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,5.25cm) {Panel controls};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,5.25cm) {(normal function)};
    \draw[line width=1pt]++(29cm,6cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,6.75cm) {Performance};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,6.75cm) {(normal function)};
    \draw[line width=1pt]++(29cm,7.5cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,8.25cm) {Keyboard};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,8.25cm) {(normal function)};
    \draw[line width=1pt]++(29cm,9cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,9.75cm) {Display};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,9.75cm) {Display patch number};
    \draw[line width=1pt]++(29cm,10.5cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,11.25cm) {Number pad};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,11.25cm) {Enter patch number};
    \draw[line width=1pt]++(29cm,12cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,12.75cm) {Record};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,12.75cm) {Leave record mode};
    \draw[line width=1pt]++(29cm,13.5cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,14.25cm) {Preset};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,14.25cm) {???};
    \draw[line width=1pt]++(29cm,15cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,15.75cm) {Tune};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,15.75cm) {???};
    \draw[line width=1pt]++(29cm,16.5cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,17.25cm) {From Tape};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,17.25cm) {???};
    \draw[line width=1pt]++(29cm,18cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,18.75cm) {To Tape};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,18.75cm) {???};
    
    \draw[line width=1pt]++(35cm,4.5cm)--++(0cm,15cm);  

  \end{tikzpicture}
}

\textbf{Shift-lock mode}

\scalebox{0.25}{
  \begin{tikzpicture}[scale=0.8]
  \node[font=\fontsize{26}{22}\selectfont, align=right, outer sep=0.5mm, anchor = west, text width=8cm] at (0cm,12cm) {Shift-lock mode:};
    \upperbuttons{13cm,7cm}{F}{F}

    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,5.25cm) {Panel controls};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,5.25cm) {(normal function)};
    \draw[line width=1pt]++(29cm,6cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,6.75cm) {Performance};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,6.75cm) {(normal function)};
    \draw[line width=1pt]++(29cm,7.5cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,8.25cm) {Keyboard};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,8.25cm) {Transposition};
    \draw[line width=1pt]++(29cm,9cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,9.75cm) {Display};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,9.75cm) {Display of miscellaneous settings and messages};
    \draw[line width=1pt]++(29cm,10.5cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,11.25cm) {Number pad};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,11.25cm) {Miscellaneous settings};
    \draw[line width=1pt]++(29cm,12cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,12.75cm) {Record};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,12.75cm) {Enter patch management mode};
    \draw[line width=1pt]++(29cm,13.5cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,14.25cm) {Preset};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,14.25cm) {Load default patch (requires confirmation)};
    \draw[line width=1pt]++(29cm,15cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,15.75cm) {Tune};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,15.75cm) {Enter per note tuning mode};
    \draw[line width=1pt]++(29cm,16.5cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,17.25cm) {From Tape};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,17.25cm) {Leave shifted mode};
    \draw[line width=1pt]++(29cm,18cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,18.75cm) {To Tape};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,18.75cm) {???};
    
    \draw[line width=1pt]++(35cm,4.5cm)--++(0cm,15cm);  

  \end{tikzpicture}
}

\textbf{Sequencer editing mode}

\scalebox{0.25}{
  \begin{tikzpicture}[scale=0.8]
  \node[font=\fontsize{26}{22}\selectfont, align=right, outer sep=0.5mm, anchor = west, text width=8cm] at (0cm,12cm) {Sequencer editing mode:};
    \upperbuttons{13cm,7cm}{R}{}

    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,5.25cm) {Panel controls};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,5.25cm) {(normal function)};
    \draw[line width=1pt]++(29cm,6cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,6.75cm) {Performance};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,6.75cm) {(normal function)};
    \draw[line width=1pt]++(29cm,7.5cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,8.25cm) {Keyboard};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,8.25cm) {Enter steps in the sequence};
    \draw[line width=1pt]++(29cm,9cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,9.75cm) {Display};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,9.75cm) {Display the number of steps};
    \draw[line width=1pt]++(29cm,10.5cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,11.25cm) {Number pad};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,11.25cm) {Special functions of buttons 0, 1 and 2};
    \draw[line width=1pt]++(29cm,12cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,12.75cm) {Record};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,12.75cm) {Leave editing mode};
    \draw[line width=1pt]++(29cm,13.5cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,14.25cm) {Preset};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,14.25cm) {???};
    \draw[line width=1pt]++(29cm,15cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,15.75cm) {Tune};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,15.75cm) {???};
    \draw[line width=1pt]++(29cm,16.5cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,17.25cm) {From Tape};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,17.25cm) {???};
    \draw[line width=1pt]++(29cm,18cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,18.75cm) {To Tape};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,18.75cm) {Hold to access patch parameters via number pad};
    
    \draw[line width=1pt]++(35cm,4.5cm)--++(0cm,15cm);  

  \end{tikzpicture}
}

\textbf{Patch management mode}

\scalebox{0.25}{
  \begin{tikzpicture}[scale=0.8]
  \node[font=\fontsize{26}{22}\selectfont, align=right, outer sep=0.5mm, anchor = west, text width=8cm] at (0cm,12cm) {Patch management mode:};
    \upperbuttons{13cm,7cm}{P}{P}

    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,5.25cm) {Panel controls};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,5.25cm) {(normal function)};
    \draw[line width=1pt]++(29cm,6cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,6.75cm) {Performance};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,6.75cm) {(normal function)};
    \draw[line width=1pt]++(29cm,7.5cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,8.25cm) {Keyboard};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,8.25cm) {(normal function)};
    \draw[line width=1pt]++(29cm,9cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,9.75cm) {Display};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,9.75cm) {Patch number input, confirmation text};
    \draw[line width=1pt]++(29cm,10.5cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,11.25cm) {Number pad};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,11.25cm) {Patch number entry};
    \draw[line width=1pt]++(29cm,12cm)--++(30cm,0cm);     
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,12.75cm) {Record};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,12.75cm) {Leave patch management mode};
    \draw[line width=1pt]++(29cm,13.5cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,14.25cm) {Preset};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,14.25cm) {Dump entire patch bank};
    \draw[line width=1pt]++(29cm,15cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,15.75cm) {Tune};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,15.75cm) {???};
    \draw[line width=1pt]++(29cm,16.5cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,17.25cm) {From Tape};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,17.25cm) {(normal function)};
    \draw[line width=1pt]++(29cm,18cm)--++(30cm,0cm);  
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=8cm] at (29cm,18.75cm) {To Tape};
    \node[font=\fontsize{18}{22}\selectfont, align=left, outer sep=0.0mm, anchor = west, text width=22cm] at (36cm,18.75cm) {};
    
    \draw[line width=1pt]++(35cm,4.5cm)--++(0cm,15cm);  

  \end{tikzpicture}
}

\chapter{Troubleshooting}\label{faq}

\input{faq.tex}

\begin{thebibliography}{50} 

\bibitem{gligli}GliGli Projects Page, http://gliglisynth.blogspot.com/
\bibitem{curtis}Curtis Electro Music on Webarchive, https://web.archive.org/web/20130502132536/http://curtiselectromusic.com/Customers\_and\_Instruments.html
\bibitem{versiontwo}GliGli upgrade release 2.0,  https://gligli.github.io/p600fw/
\bibitem{modinstructions} Prophet600 Modification Instructions
\bibitem{projectsite} Project Site: http://gligli.github.io/p600fw/
\bibitem{repository} Repository: https://github.com/gligli/p600fw/
\bibitem{techmanual} Technical Manual for the upgraded Prophet 
\bibitem{teensy}Teensy Site: http://www.pjrc.com/teensy/index.html
\bibitem{p600siownersmanual}Prophet 600 Owner's Manual, Sequential Circuits
\bibitem{p600siservicemanual} Prophet 600 Service Manual, Sequential Circuits

\end{thebibliography}

\end{document}
